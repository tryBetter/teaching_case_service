<!doctype html>
<html lang="zh-CN">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>教学案例服务后台管理系统</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.7.2/font/bootstrap-icons.css"
      rel="stylesheet"
    />
    <style>
      .sidebar {
        min-height: 100vh;
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      }
      .sidebar .nav-link {
        color: rgba(255, 255, 255, 0.8);
        transition: all 0.3s;
      }
      .sidebar .nav-link:hover,
      .sidebar .nav-link.active {
        color: white;
        background-color: rgba(255, 255, 255, 0.1);
      }
      .main-content {
        background-color: #f8f9fa;
        min-height: 100vh;
      }
      .card {
        border: none;
        box-shadow: 0 0.125rem 0.25rem rgba(0, 0, 0, 0.075);
        transition: all 0.3s;
      }
      .card:hover {
        box-shadow: 0 0.5rem 1rem rgba(0, 0, 0, 0.15);
      }
      .stat-card {
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        color: white;
      }
      .stat-card .card-body {
        padding: 1.5rem;
      }
      .stat-number {
        font-size: 2rem;
        font-weight: bold;
      }
      .table {
        background: white;
      }
      .btn-primary {
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        border: none;
      }
      .btn-primary:hover {
        background: linear-gradient(135deg, #5a6fd8 0%, #6a4190 100%);
      }
      .navbar {
        background: white;
        box-shadow: 0 0.125rem 0.25rem rgba(0, 0, 0, 0.075);
      }
      .loading {
        display: none;
      }
      .error-message {
        display: none;
        color: #dc3545;
      }
      .success-message {
        display: none;
        color: #198754;
      }
    </style>
  </head>
  <body>
    <div class="container-fluid">
      <div class="row">
        <!-- 侧边栏 -->
        <nav
          class="col-md-3 col-lg-2 d-md-block sidebar collapse"
          style="display: none"
        >
          <div class="position-sticky pt-3">
            <div class="text-center mb-4">
              <h4 class="text-white">
                <i class="bi bi-shield-check"></i>
                后台管理
              </h4>
            </div>
            <ul class="nav flex-column">
              <li class="nav-item">
                <a
                  class="nav-link active"
                  href="#"
                  onclick="showSection('dashboard')"
                >
                  <i class="bi bi-speedometer2"></i>
                  仪表盘
                </a>
              </li>
              <li class="nav-item">
                <a class="nav-link" href="#" onclick="showSection('users')">
                  <i class="bi bi-people"></i>
                  用户管理
                </a>
              </li>
              <li class="nav-item">
                <a class="nav-link" href="#" onclick="showSection('articles')">
                  <i class="bi bi-file-text"></i>
                  文章管理
                </a>
              </li>
              <li class="nav-item">
                <a
                  class="nav-link"
                  href="#"
                  onclick="showSection('categories')"
                >
                  <i class="bi bi-tags"></i>
                  分类管理
                </a>
              </li>
              <li class="nav-item">
                <a class="nav-link" href="#" onclick="showSection('media')">
                  <i class="bi bi-image"></i>
                  媒体管理
                </a>
              </li>
              <li class="nav-item">
                <a class="nav-link" href="#" onclick="showSection('comments')">
                  <i class="bi bi-chat-dots"></i>
                  评论管理
                </a>
              </li>
              <li class="nav-item">
                <a class="nav-link" href="#" onclick="showSection('notes')">
                  <i class="bi bi-journal-text"></i>
                  笔记管理
                </a>
              </li>
              <li class="nav-item">
                <a class="nav-link" href="#" onclick="showSection('favorites')">
                  <i class="bi bi-heart"></i>
                  收藏管理
                </a>
              </li>
              <li class="nav-item">
                <a class="nav-link" href="#" onclick="showSection('roles')">
                  <i class="bi bi-person-gear"></i>
                  角色权限
                </a>
              </li>
              <li class="nav-item">
                <a class="nav-link" href="#" onclick="showSection('stats')">
                  <i class="bi bi-graph-up"></i>
                  统计分析
                </a>
              </li>
              <li class="nav-item mt-3">
                <a class="nav-link" href="#" onclick="logout()">
                  <i class="bi bi-box-arrow-right"></i>
                  退出登录
                </a>
              </li>
            </ul>
          </div>
        </nav>

        <!-- 登录表单 -->
        <div
          id="loginSection"
          class="col-12 d-flex justify-content-center align-items-center"
          style="
            min-height: 100vh;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            z-index: 1000;
            background-color: #f8f9fa;
          "
        >
          <div class="col-md-6 col-lg-4">
            <div class="card">
              <div class="card-body">
                <h3 class="card-title text-center mb-4">
                  <i class="bi bi-shield-lock"></i>
                  超级管理员登录
                </h3>
                <form id="loginForm">
                  <div class="mb-3">
                    <label for="email" class="form-label">邮箱地址</label>
                    <input
                      type="email"
                      class="form-control"
                      id="email"
                      required
                    />
                  </div>
                  <div class="mb-3">
                    <label for="password" class="form-label">密码</label>
                    <input
                      type="password"
                      class="form-control"
                      id="password"
                      required
                    />
                  </div>
                  <div class="d-grid">
                    <button type="submit" class="btn btn-primary">
                      <i class="bi bi-box-arrow-in-right"></i>
                      登录
                    </button>
                  </div>
                  <div class="error-message mt-3" id="loginError"></div>
                </form>
              </div>
            </div>
          </div>
        </div>

        <!-- 主内容区 -->
        <main
          class="col-md-9 ms-sm-auto col-lg-10 px-md-4 main-content"
          style="display: none"
        >
          <!-- 顶部导航栏 -->
          <nav class="navbar navbar-expand-lg navbar-light bg-white mb-4">
            <div class="container-fluid">
              <span class="navbar-brand mb-0 h1">
                <i class="bi bi-house"></i>
                教学案例服务后台管理系统
              </span>
              <div class="navbar-nav ms-auto">
                <span class="navbar-text">
                  <i class="bi bi-person-circle"></i>
                  <span id="currentUser">超级管理员</span>
                </span>
              </div>
            </div>
          </nav>

          <!-- 仪表盘 -->
          <div
            id="dashboardSection"
            class="content-section"
            style="display: none"
          >
            <div
              class="d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pt-3 pb-2 mb-3 border-bottom"
            >
              <h1 class="h2">仪表盘</h1>
            </div>

            <!-- 统计卡片 -->
            <div class="row mb-4">
              <div class="col-md-3 mb-3">
                <div class="card stat-card">
                  <div class="card-body text-center">
                    <i
                      class="bi bi-people-fill mb-2"
                      style="font-size: 2rem"
                    ></i>
                    <div class="stat-number" id="totalUsers">-</div>
                    <div>总用户数</div>
                  </div>
                </div>
              </div>
              <div class="col-md-3 mb-3">
                <div class="card stat-card">
                  <div class="card-body text-center">
                    <i
                      class="bi bi-file-text-fill mb-2"
                      style="font-size: 2rem"
                    ></i>
                    <div class="stat-number" id="totalArticles">-</div>
                    <div>总文章数</div>
                  </div>
                </div>
              </div>
              <div class="col-md-3 mb-3">
                <div class="card stat-card">
                  <div class="card-body text-center">
                    <i
                      class="bi bi-chat-dots-fill mb-2"
                      style="font-size: 2rem"
                    ></i>
                    <div class="stat-number" id="totalComments">-</div>
                    <div>总评论数</div>
                  </div>
                </div>
              </div>
              <div class="col-md-3 mb-3">
                <div class="card stat-card">
                  <div class="card-body text-center">
                    <i
                      class="bi bi-image-fill mb-2"
                      style="font-size: 2rem"
                    ></i>
                    <div class="stat-number" id="totalMedia">-</div>
                    <div>总媒体数</div>
                  </div>
                </div>
              </div>
            </div>

            <!-- 最近活动 -->
            <div class="row">
              <div class="col-md-6">
                <div class="card">
                  <div class="card-header">
                    <h5><i class="bi bi-clock-history"></i> 最近用户</h5>
                  </div>
                  <div class="card-body">
                    <div id="recentUsers">
                      <div class="text-center">
                        <div class="spinner-border" role="status">
                          <span class="visually-hidden">加载中...</span>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
              <div class="col-md-6">
                <div class="card">
                  <div class="card-header">
                    <h5><i class="bi bi-file-earmark-plus"></i> 最近文章</h5>
                  </div>
                  <div class="card-body">
                    <div id="recentArticles">
                      <div class="text-center">
                        <div class="spinner-border" role="status">
                          <span class="visually-hidden">加载中...</span>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>

          <!-- 用户管理 -->
          <div id="usersSection" class="content-section" style="display: none">
            <div
              class="d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pt-3 pb-2 mb-3 border-bottom"
            >
              <h1 class="h2">用户管理</h1>
              <div class="btn-toolbar mb-2 mb-md-0">
                <button
                  type="button"
                  class="btn btn-primary"
                  onclick="showCreateUserModal()"
                >
                  <i class="bi bi-person-plus"></i>
                  添加用户
                </button>
              </div>
            </div>

            <div class="card">
              <div class="card-body">
                <div class="table-responsive">
                  <table class="table table-hover">
                    <thead>
                      <tr>
                        <th>ID</th>
                        <th>姓名</th>
                        <th>邮箱</th>
                        <th>角色</th>
                        <th>创建时间</th>
                        <th>操作</th>
                      </tr>
                    </thead>
                    <tbody id="usersTableBody">
                      <tr>
                        <td colspan="6" class="text-center">
                          <div class="spinner-border" role="status">
                            <span class="visually-hidden">加载中...</span>
                          </div>
                        </td>
                      </tr>
                    </tbody>
                  </table>
                </div>
              </div>
            </div>
          </div>

          <!-- 文章管理 -->
          <div
            id="articlesSection"
            class="content-section"
            style="display: none"
          >
            <div
              class="d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pt-3 pb-2 mb-3 border-bottom"
            >
              <h1 class="h2">文章管理</h1>
            </div>

            <div class="card">
              <div class="card-body">
                <div class="table-responsive">
                  <table class="table table-hover">
                    <thead>
                      <tr>
                        <th>ID</th>
                        <th>标题</th>
                        <th>作者</th>
                        <th>分类</th>
                        <th>状态</th>
                        <th>创建时间</th>
                        <th>操作</th>
                      </tr>
                    </thead>
                    <tbody id="articlesTableBody">
                      <tr>
                        <td colspan="7" class="text-center">
                          <div class="spinner-border" role="status">
                            <span class="visually-hidden">加载中...</span>
                          </div>
                        </td>
                      </tr>
                    </tbody>
                  </table>
                </div>
              </div>
            </div>
          </div>

          <!-- 分类管理 -->
          <div
            id="categoriesSection"
            class="content-section"
            style="display: none"
          >
            <div
              class="d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pt-3 pb-2 mb-3 border-bottom"
            >
              <h1 class="h2">分类管理</h1>
              <div class="btn-toolbar mb-2 mb-md-0">
                <button
                  type="button"
                  class="btn btn-primary"
                  onclick="showCreateCategoryModal()"
                >
                  <i class="bi bi-plus-circle"></i>
                  添加分类
                </button>
              </div>
            </div>

            <div class="card">
              <div class="card-body">
                <div class="table-responsive">
                  <table class="table table-hover">
                    <thead>
                      <tr>
                        <th>ID</th>
                        <th>名称</th>
                        <th>描述</th>
                        <th>文章数</th>
                        <th>创建时间</th>
                        <th>操作</th>
                      </tr>
                    </thead>
                    <tbody id="categoriesTableBody">
                      <tr>
                        <td colspan="6" class="text-center">
                          <div class="spinner-border" role="status">
                            <span class="visually-hidden">加载中...</span>
                          </div>
                        </td>
                      </tr>
                    </tbody>
                  </table>
                </div>
              </div>
            </div>
          </div>

          <!-- 媒体管理 -->
          <div id="mediaSection" class="content-section" style="display: none">
            <div
              class="d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pt-3 pb-2 mb-3 border-bottom"
            >
              <h1 class="h2">媒体管理</h1>
            </div>

            <div class="card">
              <div class="card-body">
                <div class="table-responsive">
                  <table class="table table-hover">
                    <thead>
                      <tr>
                        <th>ID</th>
                        <th>文件名</th>
                        <th>类型</th>
                        <th>大小</th>
                        <th>创建时间</th>
                        <th>操作</th>
                      </tr>
                    </thead>
                    <tbody id="mediaTableBody">
                      <tr>
                        <td colspan="6" class="text-center">
                          <div class="spinner-border" role="status">
                            <span class="visually-hidden">加载中...</span>
                          </div>
                        </td>
                      </tr>
                    </tbody>
                  </table>
                </div>
              </div>
            </div>
          </div>

          <!-- 评论管理 -->
          <div
            id="commentsSection"
            class="content-section"
            style="display: none"
          >
            <div
              class="d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pt-3 pb-2 mb-3 border-bottom"
            >
              <h1 class="h2">评论管理</h1>
            </div>

            <div class="card">
              <div class="card-body">
                <div class="table-responsive">
                  <table class="table table-hover">
                    <thead>
                      <tr>
                        <th>ID</th>
                        <th>内容</th>
                        <th>作者</th>
                        <th>文章</th>
                        <th>创建时间</th>
                        <th>操作</th>
                      </tr>
                    </thead>
                    <tbody id="commentsTableBody">
                      <tr>
                        <td colspan="6" class="text-center">
                          <div class="spinner-border" role="status">
                            <span class="visually-hidden">加载中...</span>
                          </div>
                        </td>
                      </tr>
                    </tbody>
                  </table>
                </div>
              </div>
            </div>
          </div>

          <!-- 笔记管理 -->
          <div id="notesSection" class="content-section" style="display: none">
            <div
              class="d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pt-3 pb-2 mb-3 border-bottom"
            >
              <h1 class="h2">笔记管理</h1>
            </div>

            <div class="card">
              <div class="card-body">
                <div class="table-responsive">
                  <table class="table table-hover">
                    <thead>
                      <tr>
                        <th>ID</th>
                        <th>内容</th>
                        <th>用户</th>
                        <th>文章</th>
                        <th>创建时间</th>
                        <th>操作</th>
                      </tr>
                    </thead>
                    <tbody id="notesTableBody">
                      <tr>
                        <td colspan="6" class="text-center">
                          <div class="spinner-border" role="status">
                            <span class="visually-hidden">加载中...</span>
                          </div>
                        </td>
                      </tr>
                    </tbody>
                  </table>
                </div>
              </div>
            </div>
          </div>

          <!-- 收藏管理 -->
          <div
            id="favoritesSection"
            class="content-section"
            style="display: none"
          >
            <div
              class="d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pt-3 pb-2 mb-3 border-bottom"
            >
              <h1 class="h2">收藏管理</h1>
            </div>

            <div class="card">
              <div class="card-body">
                <div class="table-responsive">
                  <table class="table table-hover">
                    <thead>
                      <tr>
                        <th>ID</th>
                        <th>用户</th>
                        <th>文章</th>
                        <th>收藏时间</th>
                        <th>操作</th>
                      </tr>
                    </thead>
                    <tbody id="favoritesTableBody">
                      <tr>
                        <td colspan="5" class="text-center">
                          <div class="spinner-border" role="status">
                            <span class="visually-hidden">加载中...</span>
                          </div>
                        </td>
                      </tr>
                    </tbody>
                  </table>
                </div>
              </div>
            </div>
          </div>

          <!-- 角色权限管理 -->
          <div id="rolesSection" class="content-section" style="display: none">
            <div
              class="d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pt-3 pb-2 mb-3 border-bottom"
            >
              <h1 class="h2">角色权限管理</h1>
            </div>

            <div class="card">
              <div class="card-body">
                <div class="table-responsive">
                  <table class="table table-hover">
                    <thead>
                      <tr>
                        <th>ID</th>
                        <th>角色名称</th>
                        <th>描述</th>
                        <th>用户数</th>
                        <th>权限数</th>
                        <th>操作</th>
                      </tr>
                    </thead>
                    <tbody id="rolesTableBody">
                      <tr>
                        <td colspan="6" class="text-center">
                          <div class="spinner-border" role="status">
                            <span class="visually-hidden">加载中...</span>
                          </div>
                        </td>
                      </tr>
                    </tbody>
                  </table>
                </div>
              </div>
            </div>
          </div>

          <!-- 统计分析 -->
          <div id="statsSection" class="content-section" style="display: none">
            <div
              class="d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pt-3 pb-2 mb-3 border-bottom"
            >
              <h1 class="h2">统计分析</h1>
            </div>

            <div class="row">
              <div class="col-md-6">
                <div class="card">
                  <div class="card-header">
                    <h5><i class="bi bi-people"></i> 用户统计</h5>
                  </div>
                  <div class="card-body">
                    <div id="userStats">
                      <div class="text-center">
                        <div class="spinner-border" role="status">
                          <span class="visually-hidden">加载中...</span>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
              <div class="col-md-6">
                <div class="card">
                  <div class="card-header">
                    <h5><i class="bi bi-file-text"></i> 内容统计</h5>
                  </div>
                  <div class="card-body">
                    <div id="contentStats">
                      <div class="text-center">
                        <div class="spinner-border" role="status">
                          <span class="visually-hidden">加载中...</span>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </main>
      </div>
    </div>

    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>

    <!-- 管理界面脚本 -->
    <script src="admin.js"></script>
  </body>
</html>
